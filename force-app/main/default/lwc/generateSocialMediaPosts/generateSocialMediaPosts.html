<template>
    <lightning-card
        title="Generate Social Media Posts"
        icon-name="utility:socialshare"
    >
        <div class="slds-var-p-around_small">
            <template lwc:if={error}>
                <c-error-panel
                    friendly-message="Error generating social media posts."
                    errors={error}
                ></c-error-panel>
                <lightning-button
                    onclick={generateSocialMediaPosts}
                    label="Try again!"
                    class="slds-align_absolute-center"
                ></lightning-button>
            </template>
            <template lwc:else>
                <lightning-button
                    onclick={generateSocialMediaPosts}
                    label="Generate Social Media Posts"
                ></lightning-button>
                <div class="slds-var-p-top_small">
                    <lightning-button-icon
                        onclick={copyTwitter}
                        icon-name="utility:copy_to_clipboard"
                        alternative-text="Copy Twitter Post"
                        title="Copy"
                        variant="bare"
                        class="right"
                    >
                        <label>Copy</label>
                    </lightning-button-icon>
                    <lightning-textarea
                        name="twitter"
                        readonly
                        value={twitterPost}
                        label="Twitter Post"
                    ></lightning-textarea>
                </div>
                <div class="slds-var-p-top_small">
                    <lightning-button-icon
                        onclick={copyLinkedin}
                        icon-name="utility:copy_to_clipboard"
                        alternative-text="Copy LinkedIn Post"
                        title="Copy"
                        variant="bare"
                        class="right"
                    >
                        <label>Copy</label>
                    </lightning-button-icon>
                    <lightning-textarea
                        name="linkedin"
                        readonly
                        value={linkedinPost}
                        label="Linkedin Post"
                    ></lightning-textarea>
                </div>
                <div class="slds-var-p-top_small">
                    <lightning-button-icon
                        onclick={copySlack}
                        icon-name="utility:copy_to_clipboard"
                        alternative-text="Copy Slack Post"
                        title="Copy"
                        variant="bare"
                        class="right"
                    >
                        <label>Copy</label>
                    </lightning-button-icon>
                    <lightning-textarea
                        name="slack"
                        readonly
                        value={slackPost}
                        label="Slack Post"
                    ></lightning-textarea>
                </div>
            </template>
            <template lwc:if={showSpinner}>
                <lightning-spinner alternative-text="Loading..." size="small">
                </lightning-spinner>
            </template>
        </div>
    </lightning-card>
</template>
